# R3 Tests Environment Configuration
# Copy this file to .env and fill in the values from the team vault
# See docs/SECRETS_MANAGEMENT.md for vault access instructions

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================

# Environment (development | staging | production)
NODE_ENV=development

# API Configuration
API_URL=http://localhost:3000
BACKEND_URL=http://localhost:3000
SHOPIFY_DOMAIN=sqqpyb-yq.myshopify.com

# =============================================================================
# PUBLIC KEYS (Safe to commit - can be shared publicly)
# =============================================================================

# Stripe Publishable Key (Test Mode)
STRIPE_PUBLIC_KEY_TEST=pk_test_51QfuVo2MiCAheYVMWMHg8qhGhCLRnLhOrnZupzJxppag93BnJhMFCCwg1xC2X4aH9vzonCpcpf8z3avoYINOvzaI00u9n0Xx7F

# Shopify Public Configuration
SHOPIFY_STORE_URL=https://sqqpyb-yq.myshopify.com
STAGING_THEME_ID=153047662834

# =============================================================================
# PRIVATE KEYS (Get from vault - DO NOT COMMIT REAL VALUES)
# =============================================================================

# Stripe Secret Keys (Get from vault: r3-dev-secrets/stripe)
STRIPE_SECRET_KEY_TEST=<get-from-vault>
STRIPE_WEBHOOK_SECRET_TEST=<get-from-vault>

# Shopify Admin API (Get from vault: r3-dev-secrets/shopify)
SHOPIFY_ADMIN_ACCESS_TOKEN=<get-from-vault>
SHOPIFY_WEBHOOK_SECRET=<get-from-vault>

# Redis/Session Storage (Get from vault: r3-dev-secrets/infrastructure)
KV_REST_API_URL=<get-from-vault>
KV_REST_API_TOKEN=<get-from-vault>

# Vercel Deployment (Get from vault: r3-dev-secrets/infrastructure)
VERCEL_TOKEN=<get-from-vault>
VERCEL_TEAM_ID=<get-from-vault>

# =============================================================================
# TEST CONFIGURATION
# =============================================================================

# Test Settings
TEST_TIMEOUT=30000           # Milliseconds (30s for dev, 45s for staging, 60s for prod)
HEADLESS_BROWSER=true        # Run browser tests in headless mode
TEST_RETRIES=2              # Number of test retries on failure
PARALLEL_TESTS=4            # Number of parallel test workers

# Test User Data (Safe test values)
TEST_EMAIL=test@example.com
TEST_CARD_NUMBER=4242424242424242
TEST_CARD_CVC=123
TEST_CARD_ZIP=10001

# Test ACH Data (Test routing/account numbers)
TEST_ACH_ROUTING=110000000
TEST_ACH_ACCOUNT=000123456789

# =============================================================================
# FEATURE FLAGS (Environment-specific)
# =============================================================================

# Development Defaults (all enabled)
ENABLE_MOCK_PAYMENTS=true      # Mock Stripe API calls
ENABLE_WEBHOOK_MOCKING=true    # Mock webhook endpoints
SKIP_RATE_LIMITING=true        # Bypass rate limits for tests
ENABLE_DEBUG_LOGGING=true      # Verbose test output
ENABLE_ALL_TESTS=true          # Run all tests including destructive

# Staging Overrides (partial mocking)
# ENABLE_MOCK_PAYMENTS=false   
# ENABLE_WEBHOOK_MOCKING=false
# SKIP_RATE_LIMITING=true
# ENABLE_DEBUG_LOGGING=false
# ENABLE_ALL_TESTS=true

# Production Overrides (no mocking, limited tests)
# ENABLE_MOCK_PAYMENTS=false
# ENABLE_WEBHOOK_MOCKING=false
# SKIP_RATE_LIMITING=false
# ENABLE_DEBUG_LOGGING=false
# ENABLE_ALL_TESTS=false

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Error Tracking (Optional - get from vault if using)
SENTRY_DSN=<optional-get-from-vault>

# Logging
LOG_LEVEL=info                # debug | info | warn | error
LOG_FORMAT=json               # json | pretty

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. NEVER commit real secret keys to git
# 2. Get all <get-from-vault> values from your team's password manager
# 3. Use different .env files for different environments (.env.staging, .env.production)
# 4. See README.md for environment-specific testing documentation
# 5. Contact team admin for vault access if you don't have it
#
# Vault Structure:
# - r3-dev-secrets/     (all developers)
# - r3-stage-secrets/   (senior developers)  
# - r3-prod-secrets/    (admin only)
#
# =============================================================================